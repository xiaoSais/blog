(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{240:function(s,e,a){"use strict";a.r(e);var t=a(17),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"一、swiper插件的坑，你了解多少"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、swiper插件的坑，你了解多少"}},[s._v("#")]),s._v(" 一、swiper插件的坑，你了解多少")]),s._v(" "),a("h2",{attrs:{id:"引入和基本用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引入和基本用法"}},[s._v("#")]),s._v(" 引入和基本用法")]),s._v(" "),a("p",[s._v("引用之前需要安装vue-awesome-swiper组件，然后像引用其他组件一样引入即可。其中swiper类似于滑动对象的容器，swiper-slide为滑动的单个item。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('//template\n<swiper :options="swiperOptions">\n\t<swiper-slide v-for="item in data">\n \n\t</swiper-slide>\n</swiper>\n\n//js\nimport { swiper, swiperSlide } from \'vue-awesome-swiper\'\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"配置选项"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置选项"}},[s._v("#")]),s._v(" 配置选项")]),s._v(" "),a("p",[s._v("Vue-awosome-swipet 的Options可以配置所有的swiper配置和方法，需要在data里返回。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//js\ndata() {\n\treturn {\n\t\tswiperOptions: [\n\t\t\t//基本配置和方法，\n\t\t\tloopedSides: 8 //设置复制层的层数\n\t\t\tonTouchMove: this.cd() //滑动时触发回调\n\t\t]\n\t}\n},\nmethods: {\n\tcb() {\n\t\tconsole.log('开始滑动');\n\t}\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h2",{attrs:{id:"swiper实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#swiper实例"}},[s._v("#")]),s._v(" swiper实例")]),s._v(" "),a("p",[s._v("swiper属性和方法需要通过swiper进行访问和调用。在该组件获取swiper对象的方法如下，注意要等整个Dom加载完成才能获取，并且data里要有数据，否则就会报错。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('//template\n<swiper :options="swiperOptions" ref="mySwiper">\n\t<swiper-slide v-for="item in data"></swiper-slide>\n</swiper>\n\n//js\ncomputed: {\n\tgetSwiper() {\n\t\treturn this.$ref.mySwiper.swiper;\n\t}\t\n},\nmethods: {\n\tgetIndex() {\n\t\treturn this.getSwiper.activeIndex; //获取swiper实例当前活动的item\n\t}\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("h2",{attrs:{id:"样式调整"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式调整"}},[s._v("#")]),s._v(" 样式调整")]),s._v(" "),a("p",[s._v("一般需要调整两个slide样式，即非活动slide和活动slide，这两个样式分别通过.swiper-slide 和.swiper-slide-active进行调整。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//在template里无需设置slide的class为swiper-slide，直接在style中使用即可。\n<style>\n\t.swiper-slide {\n\t\t//非活动状态下的slide样式\n\t}\n\t.swiper-slide-active {\n\t\t//活动状态下的slide样式\n\t}\n</style>\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[s._v("这两个样式的名字可以通过options进行设置，详见swiper文档命名空间。")]),s._v(" "),a("h2",{attrs:{id:"sidespreview相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sidespreview相关"}},[s._v("#")]),s._v(" sidesPreview相关")]),s._v(" "),a("p",[s._v("这个选项代表当前视图出现的slide的个数，它有两个值。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("data() {\n\toptions: [\n\t\tsidesPreview: 2.3 //指当前视图出现2.3的滑动slide。\n\t\tsidesPreview: 'auto' //根据设置的slide宽度和active的slide宽度自行计算当前视图出现的slide个数。\n\t]\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("注意设置固定值会使得修改active-class 无法改变active slide的宽度，所有的slide会固定宽度。但是可以通过transform来实现宽度的改变，（推荐使用这种方式）；"),a("b",[s._v("设置'auto'你可以设置active和非active的item的宽度，但是经常出现滑动时到不了指定位置的问题")]),s._v("，这是一个天坑。")]),s._v(" "),a("h2",{attrs:{id:"边距相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#边距相关"}},[s._v("#")]),s._v(" 边距相关")]),s._v(" "),a("p",[s._v("边距可以通过选项和css实现，spaceBetwwen代表两个slide之间的距离，最左边slide距离（active slide）容器的宽度可以通过.swiper-slide-active 设置。距离右边容器的距离通过 slidesOffsetAfter 实现。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//js\ndata() {\n\toptions: [\n\t\tspaceBetween: 10 //这里的单位为px\n\t\tspaceBetween: window.innerWidth*.25 //或者根据窗口大小动态改变\n\t\tslidesOffsetAfter： 20 //一般需要动态调整\n\t]\n}\n \n//css\n.swiper-slide-active {\n\tmargin-left: 20px; //active距离左边容器的距离，默认模式下，即没有设置active slide居中选项。\n    margin-right: 20px; //在固定sidesPreview的情况下，设置margin-right是无效的。\n}\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("h2",{attrs:{id:"loop相关"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loop相关"}},[s._v("#")]),s._v(" Loop相关")]),s._v(" "),a("p",[s._v("循环模式可以通过options数组里loop属性进行设置。这个模式有三个坑:")]),s._v(" "),a("ul",[a("li",[s._v("该模式下会自动在第一个slide前面复制一个带有.swiper-slide-duplicate类名的复制层，该复制层是复制最后一个slide而来，同样最后一个层后面会复制第一个层形成一个新的复制层。")]),s._v(" "),a("li",[s._v("该模式下出现的复制层无法复制对应层的组件和事件。")]),s._v(" "),a("li",[s._v("复制层第一次发生Touchmove的时候会瞬变到非复制层，如果图片是懒加载的话，会出现图片重复加载的情况。")])]),s._v(" "),a("p",[s._v("解决方案：")]),s._v(" "),a("ul",[a("li",[s._v("Loop模式下最好在options里配置 loopedSides选项，代表设置的loop层数量。一般设置为data的长度。 排列顺序为  0,1,2,0,1,2,0,1,2   其中红色代表复制层。")]),s._v(" "),a("li",[s._v("手动为复制层添加组件和事件，然后放在this.$nextTick(()=> {})中编译一下。")]),s._v(" "),a("li",[s._v("监听onSlideChange()事件，手动将相同index的图片地址赋值为相同的地址。")])]),s._v(" "),a("h2",{attrs:{id:"异步加载"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#异步加载"}},[s._v("#")]),s._v(" 异步加载")]),s._v(" "),a("p",[s._v("异步加载的时候很容易出错，如果data没有值，swiper组件就不会初始化，获取swiper实例也会出错。解决方案也很简单。用v-if 绑定data的长度。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('//swiperDemo.vue\n<template>\n\t<div v-if="data.length">\n\t\t<swiper :options="swiperOptions">\n\t\t\t<swiper-slide v-for="item in data"></swiper-slide>\n\t\t</swiper>\n\t</div>\n</template>\n \n//parents.vue\n<swiper v-if="data.length" :data="data"></swiper>\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])])])}),[],!1,null,null,null);e.default=n.exports}}]);